# BadgePatternTool 功能测试文档

## 📋 测试概述

本文档提供了BadgePatternTool的完整功能测试指南，帮助验证所有核心功能是否正常工作。

### 🎯 测试目标
- 验证完整的工作流程：导入 → 编辑 → 排版 → 导出
- 确保所有界面功能正常响应
- 验证输出文件质量和准确性
- 测试错误处理和边界情况

---

## 🚀 测试准备

### 环境要求
- Windows 7/8/10/11
- Python 3.8+
- 已安装依赖：`pip install -r requirements.txt`

### 测试素材准备
请准备以下测试图片（建议放在桌面或易访问的文件夹）：

1. **标准测试图片**：
   - 2-3张JPG格式图片（不同尺寸：如500x500, 800x600, 1200x800）
   - 2-3张PNG格式图片（包含透明背景的）
   - 1张较大的图片（>2MB）
   - 1张较小的图片（<100KB）

2. **特殊测试图片**：
   - 1张正方形图片（1:1比例）
   - 1张长方形图片（16:9比例）
   - 1张竖向图片（3:4比例）

---

## 📝 详细测试步骤

### 第一阶段：基础功能测试

#### 1.1 程序启动测试
```bash
cd BadgePatternTool
python src/main.py
```

**预期结果**：
- ✅ 程序正常启动，无错误信息
- ✅ 主窗口显示，包含四个区域：图片列表、单图编辑、A4预览、控制面板
- ✅ 菜单栏显示：文件、编辑、视图、帮助
- ✅ 状态栏显示"就绪"

#### 1.2 界面响应测试
**操作步骤**：
1. 点击各个菜单项
2. 切换不同的控制选项
3. 测试按钮响应

**预期结果**：
- ✅ 窗口大小固定，无法调整
- ✅ 界面元素布局正确
- ✅ 菜单项可以正常点击
- ✅ 控件响应正常

### 第二阶段：图片导入测试

#### 2.1 正常导入测试
**操作步骤**：
1. 点击"导入图片"按钮
2. 选择2-3张不同格式的图片（JPG、PNG）
3. 点击"打开"

**预期结果**：
- ✅ 文件选择对话框正常打开
- ✅ 可以多选图片文件
- ✅ 图片成功导入到左侧列表
- ✅ 显示图片缩略图和文件名
- ✅ 状态栏显示导入成功信息
- ✅ A4排版预览自动更新

#### 2.2 格式验证测试
**操作步骤**：
1. 尝试导入不支持的格式（如.txt、.doc文件）
2. 尝试导入损坏的图片文件

**预期结果**：
- ✅ 不支持的格式被过滤掉
- ✅ 显示格式警告信息
- ✅ 只有有效图片被导入

### 第三阶段：图片编辑测试

#### 3.1 基础编辑测试
**操作步骤**：
1. 在图片列表中选择一张图片
2. 观察单图编辑区域的预览
3. 调整缩放滑块
4. 调整位置滑块

**预期结果**：
- ✅ 选中图片后，编辑区域显示圆形预览
- ✅ 缩放调整实时更新预览
- ✅ 位置调整实时更新预览
- ✅ 操作流畅，无明显延迟

#### 3.2 数量设置测试
**操作步骤**：
1. 在编辑控制区域设置图片数量
2. 点击"应用"按钮
3. 观察A4预览的变化

**预期结果**：
- ✅ 数量设置正常工作
- ✅ A4预览显示正确的图片数量
- ✅ 应用按钮响应正常

### 第四阶段：A4排版测试

#### 4.1 布局模式测试
**操作步骤**：
1. 切换"网格排列"和"紧密排列"
2. 调整间距滑块
3. 调整页边距滑块
4. 观察预览变化

**预期结果**：
- ✅ 布局模式切换正常
- ✅ 间距调整实时生效
- ✅ 页边距调整实时生效
- ✅ 预览准确反映设置

#### 4.2 预览交互测试
**操作步骤**：
1. 使用鼠标滚轮缩放预览
2. 拖拽预览区域
3. 点击"适应窗口"和"重置视图"按钮

**预期结果**：
- ✅ 滚轮缩放工作正常
- ✅ 拖拽平移工作正常
- ✅ 视图控制按钮响应正确

### 第五阶段：导出功能测试

#### 5.1 PDF导出测试
**操作步骤**：
1. 选择PDF格式
2. 点击"导出文件"
3. 选择保存位置
4. 检查生成的PDF文件

**预期结果**：
- ✅ 导出对话框正常显示
- ✅ PDF文件成功生成
- ✅ 文件质量符合300DPI要求
- ✅ 排版准确无误

#### 5.2 图片导出测试
**操作步骤**：
1. 分别测试PNG和JPG格式导出
2. 检查生成的图片文件

**预期结果**：
- ✅ 图片文件成功生成
- ✅ 格式正确，质量良好
- ✅ 尺寸符合A4规格

### 第六阶段：打印功能测试

#### 6.1 打印预览测试
**操作步骤**：
1. 点击"打印预览"按钮
2. 检查预览效果

**预期结果**：
- ✅ 打印预览窗口正常打开
- ✅ 预览内容准确
- ✅ 可以进行打印设置

#### 6.2 直接打印测试
**操作步骤**：
1. 点击"打印"按钮
2. 选择打印机
3. 执行打印

**预期结果**：
- ✅ 打印对话框正常显示
- ✅ 打印任务正常执行
- ✅ 打印质量符合要求

---

## 🧪 边界情况测试

### 7.1 空状态测试
- 未导入图片时的界面状态
- 清空所有图片后的状态

### 7.2 大量数据测试
- 导入大量图片（接近限制）
- 处理大尺寸图片文件

### 7.3 错误处理测试
- 无效文件路径
- 磁盘空间不足
- 权限不足的目录

---

## ✅ 测试完成标准

当所有测试项目都通过时，说明BadgePatternTool功能正常，可以投入使用。

### 核心验证点
1. **完整工作流程**：能够从导入图片到导出PDF的完整流程
2. **输出质量**：生成的PDF/图片文件质量符合300DPI打印要求
3. **用户体验**：界面响应流畅，操作直观
4. **错误处理**：各种异常情况都有合适的提示和处理

---

*测试文档版本：v1.0*  
*创建时间：2025-06-17*
