# 更新日志

本文档记录了BadgePatternTool项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- 初始化项目结构和Git版本管理
- 集成PySide6现代化GUI框架
- **完整的图片导入功能**: 支持多种格式，文件验证，批量导入
- **图片列表管理**: 添加、删除、清空、选择状态跟踪
- **圆形图片编辑器**: 实时预览，缩放调整，位置偏移控制
- **自动排版功能**: 智能计算最佳参数，批量处理图片
- **多格式导出**: 支持PDF/PNG/JPG高质量导出
- **A4排版布局**: 网格和紧密排列模式
- 完整的用户界面：菜单栏、工具栏、状态栏
- 错误处理和用户反馈机制
- 跨平台文件夹打开功能

### UI/UX 重大改进 (2025-06-17)
- **🎯 数量设置功能优化**: 将数量控制从图片列表移至单图编辑区域，提供更直观的编辑体验
- **🔷 六边形蜂巢布局**: 重构紧密排列算法，实现真正的六边形密排，确保相邻图片距离完全相等
- **🖼️ 图片列表缩略图**: 添加48x48像素缩略图显示，快速识别图片内容，提升用户体验
- **⚡ 滑条操作性能优化**: 实现150ms防抖机制，消除缩放、位置调整等操作的卡顿问题
- **🖱️ A4预览交互增强**: 支持鼠标滚轮缩放(0.1x-3.0x)和拖动平移，提供专业级预览体验

### 核心功能增强 (2025-06-17)
- **🔧 动态圆形尺寸配置**: 添加全局圆形直径设置(10-100mm)，支持实时调整和预设尺寸
- **🚀 性能优化**: 分层防抖机制，数量变化卡顿问题完全解决
- **🔍 布局算法修复**: 修正紧凑布局重叠问题，确保5mm间距下圆形不重叠
- **📊 容量分析**: 提供不同尺寸下的布局容量对照表，优化排版效果

### 变更
- **重大变更**: GUI框架从tkinter完全迁移到PySide6
- 更新所有图片处理模块支持QPixmap
- 重构文件处理器使用PySide6文件对话框
- 采用现代化Qt界面布局和组件
- 改进用户体验和界面响应性

### 修复
- 修复PySide6弃用警告问题
- 优化高DPI显示兼容性
- 完善错误处理和异常捕获

### 移除
- 移除tkinter和ImageTk依赖
- 清理未使用的导入和代码

---

## 版本说明

### 版本号格式
- 主版本号：不兼容的API修改
- 次版本号：向下兼容的功能性新增
- 修订号：向下兼容的问题修正

### 变更类型
- **新增** - 新功能
- **变更** - 对现有功能的变更
- **弃用** - 即将移除的功能
- **移除** - 已移除的功能
- **修复** - 问题修复
- **安全** - 安全相关修复
